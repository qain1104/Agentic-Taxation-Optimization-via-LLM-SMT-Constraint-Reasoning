{
  "ts": 1764758396,
  "tool_name": "foreigner_income_tax",
  "mode": "manual_free",
  "status": "sat",
  "baseline": 77626,
  "optimized": null,
  "budget": null,
  "result": {
    "mode": "manual_free",
    "input_params": {
      "days_of_stay": 150,
      "is_departure": true,
      "is_married": false,
      "salary_self": 1600000,
      "salary_spouse": 0,
      "salary_dep": 200000,
      "interest_income": 30000,
      "interest_spouse": 0,
      "interest_dep": 10000,
      "other_income": 80000,
      "other_income_spouse": 0,
      "other_income_dep": 40000,
      "cnt_under_70": 0,
      "cnt_over_70": 2,
      "use_itemized": false,
      "itemized_deduction": 0,
      "property_loss_deduction": 0,
      "disability_count": 1,
      "education_count": 0,
      "education_fee": 0,
      "preschool_count": 0,
      "long_term_care_count": 1,
      "rent_deduction": 0,
      "free_vars": [
        "itemized_deduction",
        "rent_deduction",
        "education_fee",
        "education_count",
        "salary_self",
        "salary_dep",
        "property_loss_deduction"
      ]
    },
    "baseline": 77626,
    "baseline_status": "unsat",
    "baseline_with_constraints": null,
    "optimized": 0,
    "optimized_solver": 0,
    "status": "sat",
    "diff": {
      "salary_self": {
        "original": 1600000,
        "optimized": 218001,
        "difference": -1381999
      },
      "salary_dep": {
        "original": 200000,
        "optimized": 5066739,
        "difference": 4866739
      },
      "itemized_deduction": {
        "original": 0,
        "optimized": 230001,
        "difference": 230001
      },
      "property_loss_deduction": {
        "original": 0,
        "optimized": 4227792,
        "difference": 4227792
      },
      "rent_deduction": {
        "original": 0,
        "optimized": 180001,
        "difference": 180001
      },
      "education_count": {
        "original": 0,
        "optimized": 2,
        "difference": 2
      },
      "education_fee": {
        "original": 0,
        "optimized": 49999,
        "difference": 49999
      }
    },
    "combo": [],
    "final_params": {
      "salary_self": {
        "value": 218001,
        "type": "free"
      },
      "salary_spouse": {
        "value": 0,
        "type": "fixed"
      },
      "salary_dep": {
        "value": 5066739,
        "type": "free"
      },
      "interest_income": {
        "value": 30000,
        "type": "fixed"
      },
      "interest_spouse": {
        "value": 0,
        "type": "fixed"
      },
      "interest_dep": {
        "value": 10000,
        "type": "fixed"
      },
      "other_income": {
        "value": 80000,
        "type": "fixed"
      },
      "other_income_spouse": {
        "value": 0,
        "type": "fixed"
      },
      "other_income_dep": {
        "value": 40000,
        "type": "fixed"
      },
      "itemized_deduction": {
        "value": 230001,
        "type": "free"
      },
      "property_loss_deduction": {
        "value": 4227792,
        "type": "free"
      },
      "rent_deduction": {
        "value": 180001,
        "type": "free"
      },
      "cnt_under_70": {
        "value": 0,
        "type": "fixed"
      },
      "cnt_over_70": {
        "value": 2,
        "type": "fixed"
      },
      "disability_count": {
        "value": 1,
        "type": "fixed"
      },
      "education_count": {
        "value": 2,
        "type": "free"
      },
      "education_fee": {
        "value": 49999,
        "type": "free"
      },
      "preschool_count": {
        "value": 0,
        "type": "fixed"
      },
      "long_term_care_count": {
        "value": 1,
        "type": "fixed"
      },
      "days_of_stay": {
        "value": 150,
        "type": "fixed"
      }
    },
    "constraints": {
      "education_fee": {
        "<=": 200000.0
      },
      "itemized_deduction": {
        ">": "rent_deduction + education_fee"
      },
      "property_loss_deduction": {
        ">=": "0.8 * (salary_self + salary_dep)"
      },
      "education_count": {
        "<=": 2.0
      },
      "rent_deduction": {
        ">=": 120000.0,
        "<=": 300000.0
      }
    }
  },
  "payload": {
    "tool_name": "foreigner_income_tax",
    "user_params": {
      "days_of_stay": 150,
      "is_departure": true,
      "is_married": false,
      "salary_self": 1600000,
      "salary_spouse": 0,
      "salary_dep": 200000,
      "interest_income": 30000,
      "interest_spouse": 0,
      "interest_dep": 10000,
      "other_income": 80000,
      "other_income_spouse": 0,
      "other_income_dep": 40000,
      "cnt_under_70": 0,
      "cnt_over_70": 2,
      "disability_count": 1,
      "preschool_count": 0,
      "long_term_care_count": 1,
      "free_vars": [
        "itemized_deduction",
        "rent_deduction",
        "education_fee",
        "education_count",
        "salary_self",
        "salary_dep",
        "property_loss_deduction"
      ],
      "constraints": {
        "education_fee": {
          "<=": 200000.0
        },
        "itemized_deduction": {
          ">": "rent_deduction + education_fee"
        },
        "property_loss_deduction": {
          ">=": "0.8 * (salary_self + salary_dep)"
        },
        "education_count": {
          "<=": 2.0
        },
        "rent_deduction": {
          ">=": 120000.0,
          "<=": 300000.0
        }
      }
    },
    "raw_query": "下一步",
    "timestamp": "2025-12-03T10:36:41.339375",
    "__prev_tax__": null,
    "early_tips_md": "#### 條件式建議（先看再決定要不要加）\n\n**考慮使用列舉扣除**\n- 理由：若項目扣除額高於標準扣除，應選擇列舉扣除以減少應稅所得。\n\n**增加教育扣除人數**\n- 理由：若有符合條件的受扶養人，應增加教育扣除人數以降低稅負。\n\n**檢視其他所得來源**\n- 理由：評估其他所得的來源，可能有額外扣除或減免的機會，進一步優化稅務負擔。",
    "op": null
  },
  "markdown": "### 外僑綜合所得稅\n在目前前提與約束下，最佳解為 **0** 元（基準 77,626 元，↓ 77,626）。\n\n#### 重點數據\n- **計算模式**：manual_free\n- **求解狀態**：sat\n- **輸入稅額**：77,626\n- **比較基準**：基準 77,626\n- **使用稅額 / 最佳稅額**：0\n\n#### 參數調整（與原輸入相比）\n- 本人薪資所得：1,600,000 → 218,001（↓ 1,381,999）\n- 扶養親屬薪資所得：200,000 → 5,066,739（↑ 4,866,739）\n- 列舉扣除額：0 → 230,001（↑ 230,001）\n- 財產損失扣除額：0 → 4,227,792（↑ 4,227,792）\n- 房屋租金支出：0 → 180,001（↑ 180,001）\n- 教育扣除適用人數：0 → 2（↑ 2）\n- 實際教育費用：0 → 49,999（↑ 49,999）\n\n#### 與上一輪相比的參數變化\n（無上一輪可比較）\n\n#### 套用的約束\n- 實際教育費用（元） <= 200,000\n- 列舉扣除額（元） > 房屋租金支出（元） + 實際教育費用（元）\n- 財產損失扣除額（元） >= 0.8 × (本人薪資所得（元） + 扶養親屬薪資所得（元）)\n- 教育扣除適用人數 <= 2\n- 房屋租金支出（元） >= 120,000\n- 房屋租金支出（元） <= 300,000\n\n#### 輸入稅額的參數\n- 當年度在台居留天數：150\n- 是否為當年度離境：是\n- 您是否已婚：否\n- 本人薪資所得：1,600,000\n- 配偶薪資所得：0\n- 扶養親屬薪資所得：200,000\n- 利息所得：30,000\n- 配偶利息所得：0\n- 扶養親屬利息所得：10,000\n- 其他所得：80,000\n- 配偶其他所得：0\n- 扶養親屬其他所得：40,000\n- 70 歲以下受扶養人數：0\n- 70 歲以上受扶養人數：2\n- 是否採用列舉扣除：否\n- 列舉扣除額：0\n- 財產損失扣除額：0\n- 身障者人數：1\n- 教育扣除適用人數：0\n- 實際教育費用：0\n- 幼兒人數：0\n- 長照適用人數：1\n- 房屋租金支出：0\n\n#### 目前最佳解輸入值\n- 本人薪資所得：218,001（建議）\n- 配偶薪資所得：0（預設）\n- 扶養親屬薪資所得：5,066,739（建議）\n- 利息所得：30,000（預設）\n- 配偶利息所得：0（預設）\n- 扶養親屬利息所得：10,000（預設）\n- 其他所得：80,000（預設）\n- 配偶其他所得：0（預設）\n- 扶養親屬其他所得：40,000（預設）\n- 列舉扣除額：230,001（建議）\n- 財產損失扣除額：4,227,792（建議）\n- 房屋租金支出：180,001（建議）\n- 70 歲以下受扶養人數：0（預設）\n- 70 歲以上受扶養人數：2（預設）\n- 身障者人數：1（預設）\n- 教育扣除適用人數：2（建議）\n- 實際教育費用：49,999（建議）\n- 幼兒人數：0（預設）\n- 長照適用人數：1（預設）\n- 當年度在台居留天數：150（預設）\n\n#### 結論\n- 可考慮確認扶養親屬的薪資所得是否符合申報資格，以便享有相關扣除。\n- 若符合資格，建議申報教育費用扣除，最高可達 200,000 元。\n- 可考慮將房屋租金支出調整至 120,000 元以上，以符合列舉扣除的要求。\n- 若有財產損失，建議確認其金額是否符合 80% 的薪資所得要求，以便申報扣除。\n- 可考慮確認長期照護人數，若符合可申報的條件，將可享有相關扣除。\n\n#### 風險與合規備註\n- 本報告為模型推導之**估算**，實際稅負仍以主管機關規定與申報資料為準。\n- 涉及扣除認列、薪資結構等請務必依據法規與憑證（避免規避稅捐風險）。"
}